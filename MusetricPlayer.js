(()=>{"use strict";var e={66:(e,r,t)=>{r.R=void 0;const a=t(859),o=t(979),s=e=>{const{pushEvent:r,getWorkletState:t}=e;let o,s=!1;const l=(e=!1)=>{s=!1,o=void 0,r("onStopped",{reset:e})};let n;return{process:(e,a)=>{if(!n)return;if(!s)return;const{sampleRate:u,currentTime:i}=t(),{soundBuffer:c,cursor:p}=n;o||(o={time:i,cursor:p});const y=Math.floor((i-o.time)*u),d=o.cursor+y,f=a[0].length;if(c.real.length<d+f)l(!0);else{for(let e=0;e<a.length;e++)for(let r=0;r<a[e].length;r++)a[e][r]=c.real[d+r];r("onCursor",{value:d+f})}},setup:e=>{const{cursor:r}=e,t=(0,a.viewRealArray)("float32",e.soundBuffer);n={soundBuffer:t,cursor:r},o=void 0},start:()=>{s=!0,r("onStarted",void 0)},stop:l,setCursor:e=>{n&&(n.cursor=e,o=void 0)}}};r.R=()=>{(0,o.runPromiseAudioWorklet)("PlayerWorklet",s)}},859:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.viewRealArray=r.createSharedRealArray=r.createRealArray=void 0;const a=t(962);r.createRealArray=(e,r)=>{const t=a.realBytesMap[e],o=new ArrayBuffer(t*r);return{real:a.createRealTypeMap[e](o,0,r),realRaw:o,type:e}},r.createSharedRealArray=(e,r)=>{const t=a.realBytesMap[e],o=new SharedArrayBuffer(t*r);return{real:a.createRealTypeMap[e](o),realRaw:o,type:e}},r.viewRealArray=(e,r,t,o)=>{const s=r,l=a.realBytesMap[e],n=t?t*l:void 0;return{real:a.createRealTypeMap[e](s,n,o),realRaw:s,type:e}}},962:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createRealTypeMap=r.realBytesMap=void 0,r.realBytesMap={float32:Float32Array.BYTES_PER_ELEMENT,float64:Float64Array.BYTES_PER_ELEMENT,uint32:Uint32Array.BYTES_PER_ELEMENT,uint8:Uint8Array.BYTES_PER_ELEMENT},r.createRealTypeMap={float32:(...e)=>new Float32Array(...e),float64:(...e)=>new Float64Array(...e),uint32:(...e)=>new Uint32Array(...e),uint8:(...e)=>new Uint8Array(...e)}},979:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.runPromiseAudioWorklet=void 0,r.runPromiseAudioWorklet=(e,r)=>{class t extends AudioWorkletProcessor{constructor(){super(...arguments),this.worklet=(e=>{const t=r=>{e.postMessage(r)},a=r({pushEvent:(e,r)=>{t({id:"",type:e,result:r})},getWorkletState:()=>({sampleRate,currentTime})});return e.onmessage=e=>{const{id:r,type:o,args:s}=e.data,l=a[o](...s);t({id:r,type:o,result:l})},a})(this.port)}process([e],[r],t){return this.worklet.process(e,r,t),!0}}registerProcessor(e,t)}}},r={};(0,function t(a){var o=r[a];if(void 0!==o)return o.exports;var s=r[a]={exports:{}};return e[a](s,s.exports,t),s.exports}(66).R)()})();