var _;(()=>{"use strict";var t={645:t=>{function r(t){if(this.size=0|t,this.size<=1||0!=(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var r=new Array(2*this.size),e=0;e<r.length;e+=2){const t=Math.PI*e/this.size;r[e]=Math.cos(t),r[e+1]=-Math.sin(t)}this.table=r;for(var a=0,o=1;this.size>o;o<<=1)a++;this._width=a%2==0?a-1:a,this._bitrev=new Array(1<<this._width);for(var n=0;n<this._bitrev.length;n++){this._bitrev[n]=0;for(var i=0;i<this._width;i+=2){var s=this._width-i-2;this._bitrev[n]|=(n>>>i&3)<<s}}this._out=null,this._data=null,this._inv=0}t.exports=r,r.prototype.fromComplexArray=function(t,r){for(var e=r||new Array(t.length>>>1),a=0;a<t.length;a+=2)e[a>>>1]=t[a];return e},r.prototype.createComplexArray=function(){const t=new Array(this._csize);for(var r=0;r<t.length;r++)t[r]=0;return t},r.prototype.toComplexArray=function(t,r){for(var e=r||this.createComplexArray(),a=0;a<e.length;a+=2)e[a]=t[a>>>1],e[a+1]=0;return e},r.prototype.completeSpectrum=function(t){for(var r=this._csize,e=r>>>1,a=2;a<e;a+=2)t[r-a]=t[a],t[r-a+1]=-t[a+1]},r.prototype.transform=function(t,r){if(t===r)throw new Error("Input and output buffers must be different");this._out=t,this._data=r,this._inv=0,this._transform4(),this._out=null,this._data=null},r.prototype.realTransform=function(t,r){if(t===r)throw new Error("Input and output buffers must be different");this._out=t,this._data=r,this._inv=0,this._realTransform4(),this._out=null,this._data=null},r.prototype.inverseTransform=function(t,r){if(t===r)throw new Error("Input and output buffers must be different");this._out=t,this._data=r,this._inv=1,this._transform4();for(var e=0;e<t.length;e++)t[e]/=this.size;this._out=null,this._data=null},r.prototype._transform4=function(){var t,r,e=this._out,a=this._csize,o=1<<this._width,n=a/o<<1,i=this._bitrev;if(4===n)for(t=0,r=0;t<a;t+=n,r++){const e=i[r];this._singleTransform2(t,e,o)}else for(t=0,r=0;t<a;t+=n,r++){const e=i[r];this._singleTransform4(t,e,o)}var s=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){var f=(n=a/o<<1)>>>2;for(t=0;t<a;t+=n)for(var c=t+f,u=t,h=0;u<c;u+=2,h+=o){const t=u,r=t+f,a=r+f,o=a+f,n=e[t],i=e[t+1],c=e[r],d=e[r+1],m=e[a],p=e[a+1],y=e[o],w=e[o+1],_=n,v=i,g=l[h],A=s*l[h+1],b=c*g-d*A,F=c*A+d*g,M=l[2*h],R=s*l[2*h+1],x=m*M-p*R,T=m*R+p*M,E=l[3*h],P=s*l[3*h+1],z=y*E-w*P,W=y*P+w*E,O=_+x,S=v+T,B=_-x,C=v-T,I=b+z,j=F+W,U=s*(b-z),q=s*(F-W),L=O+I,N=S+j,Y=O-I,$=S-j,k=B+q,H=C-U,D=B-q,G=C+U;e[t]=L,e[t+1]=N,e[r]=k,e[r+1]=H,e[a]=Y,e[a+1]=$,e[o]=D,e[o+1]=G}}},r.prototype._singleTransform2=function(t,r,e){const a=this._out,o=this._data,n=o[r],i=o[r+1],s=o[r+e],l=o[r+e+1],f=n+s,c=i+l,u=n-s,h=i-l;a[t]=f,a[t+1]=c,a[t+2]=u,a[t+3]=h},r.prototype._singleTransform4=function(t,r,e){const a=this._out,o=this._data,n=this._inv?-1:1,i=2*e,s=3*e,l=o[r],f=o[r+1],c=o[r+e],u=o[r+e+1],h=o[r+i],d=o[r+i+1],m=o[r+s],p=o[r+s+1],y=l+h,w=f+d,_=l-h,v=f-d,g=c+m,A=u+p,b=n*(c-m),F=n*(u-p),M=y+g,R=w+A,x=_+F,T=v-b,E=y-g,P=w-A,z=_-F,W=v+b;a[t]=M,a[t+1]=R,a[t+2]=x,a[t+3]=T,a[t+4]=E,a[t+5]=P,a[t+6]=z,a[t+7]=W},r.prototype._realTransform4=function(){var t,r,e=this._out,a=this._csize,o=1<<this._width,n=a/o<<1,i=this._bitrev;if(4===n)for(t=0,r=0;t<a;t+=n,r++){const e=i[r];this._singleRealTransform2(t,e>>>1,o>>>1)}else for(t=0,r=0;t<a;t+=n,r++){const e=i[r];this._singleRealTransform4(t,e>>>1,o>>>1)}var s=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){var f=(n=a/o<<1)>>>1,c=f>>>1,u=c>>>1;for(t=0;t<a;t+=n)for(var h=0,d=0;h<=u;h+=2,d+=o){var m=t+h,p=m+c,y=p+c,w=y+c,_=e[m],v=e[m+1],g=e[p],A=e[p+1],b=e[y],F=e[y+1],M=e[w],R=e[w+1],x=_,T=v,E=l[d],P=s*l[d+1],z=g*E-A*P,W=g*P+A*E,O=l[2*d],S=s*l[2*d+1],B=b*O-F*S,C=b*S+F*O,I=l[3*d],j=s*l[3*d+1],U=M*I-R*j,q=M*j+R*I,L=x+B,N=T+C,Y=x-B,$=T-C,k=z+U,H=W+q,D=s*(z-U),G=s*(W-q),J=L+k,K=N+H,Q=Y+G,V=$-D;if(e[m]=J,e[m+1]=K,e[p]=Q,e[p+1]=V,0!==h){if(h!==u){var X=Y+-s*G,Z=-s*D-$,tt=L+-s*k,rt=-N- -s*H,et=t+c-h,at=t+f-h;e[et]=X,e[et+1]=Z,e[at]=tt,e[at+1]=rt}}else{var ot=L-k,nt=N-H;e[y]=ot,e[y+1]=nt}}}},r.prototype._singleRealTransform2=function(t,r,e){const a=this._out,o=this._data,n=o[r],i=o[r+e],s=n+i,l=n-i;a[t]=s,a[t+1]=0,a[t+2]=l,a[t+3]=0},r.prototype._singleRealTransform4=function(t,r,e){const a=this._out,o=this._data,n=this._inv?-1:1,i=2*e,s=3*e,l=o[r],f=o[r+e],c=o[r+i],u=o[r+s],h=l+c,d=l-c,m=f+u,p=n*(f-u),y=h+m,w=d,_=-p,v=h-m,g=d,A=p;a[t]=y,a[t+1]=0,a[t+2]=w,a[t+3]=_,a[t+4]=v,a[t+5]=0,a[t+6]=g,a[t+7]=A}},175:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.convertAmplitudeToBel=void 0,r.convertAmplitudeToBel=t=>{for(let r=0;r<t.length;r++){const e=t[r],a=Math.log10(e)/5,o=Math.max(0,Math.min(1,a+1));t[r]=o}}},608:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.normComplexArray=r.createComplexArray=r.viewRealArray=r.createRealArray=void 0,r.createRealArray=(t,r)=>{if("float32"===r)return new Float32Array(t);if("float64"===r)return new Float64Array(t);if("uint32"===r)return new Uint32Array(t);if("uint8"===r)return new Uint8Array(t);if("list"===r){const r=new Array(t);for(let e=0;e<t;e++)r[e]=0;return r}throw new Error},r.viewRealArray=(t,r,e)=>{if(t instanceof Float32Array){const a=r*Float32Array.BYTES_PER_ELEMENT+t.byteOffset;return new Float32Array(t.buffer,a,e)}if(t instanceof Float64Array){const a=r*Float64Array.BYTES_PER_ELEMENT+t.byteOffset;return new Float64Array(t.buffer,a,e)}if(t instanceof Uint32Array){const a=r*Uint32Array.BYTES_PER_ELEMENT+t.byteOffset;return new Uint32Array(t.buffer,a,e)}if(t instanceof Uint8Array){const a=r*Uint8Array.BYTES_PER_ELEMENT+t.byteOffset;return new Uint8Array(t.buffer,a,e)}throw new Error},r.createComplexArray=(t,e)=>({real:r.createRealArray(t,e),imag:r.createRealArray(t,e)}),r.normComplexArray=(t,r,e)=>{const a=r.length;for(let o=0;o<a;o++){const a=t.real[o],n=t.imag[o];r[o]=e*Math.sqrt(a*a+n*n)}}},57:(t,r,e)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createFftRadix2=r.createFftRadix2Base=void 0;const a=e(608),o=e(343),n=(t,r,e)=>{let a=1;for(;a<r;){const o=e.cos[a],n=e.sin[a];let i=1,s=0;for(let e=0;e<a;e++){let l=e;for(;l<r;){const r=l+a,e=i*t.real[r]-s*t.imag[r],o=i*t.imag[r]+s*t.real[r];t.real[r]=t.real[l]-e,t.imag[r]=t.imag[l]-o,t.real[l]+=e,t.imag[l]+=o,l+=a<<1}const f=i;i=f*o-s*n,s=f*n+s*o}a<<=1}};r.createFftRadix2Base=t=>{const r=a.createComplexArray(t,"float64"),e=(t=>{const r=new Uint32Array(t);let e=1,a=t>>1;for(;e<t;){for(let t=0;t<e;t++)r[t+e]=r[t]+a;e<<=1,a>>=1}return r})(t),o=((t,r)=>{const e=a.createRealArray(t,r),o=a.createRealArray(t,r);for(let r=0;r<t;r++)e[r]=Math.cos(-Math.PI/r),o[r]=Math.sin(-Math.PI/r);return{cos:e,sin:o}})(t,"float64");return{forward:(a,i)=>{for(let o=0;o<t;o++)r.real[o]=a.real[e[o]],r.imag[o]=a.imag[e[o]];n(r,t,o);for(let e=0;e<t;e++)i.real[e]=r.real[e],i.imag[e]=r.imag[e]},inverse:(a,i)=>{for(let o=0;o<t;o++)r.real[o]=a.real[e[o]],r.imag[o]=-a.imag[e[o]];n(r,t,o);for(let e=0;e<t;e++)i.real[e]=r.real[e]/t,i.imag[e]=-r.imag[e]/t}}},r.createFftRadix2=t=>{const e=r.createFftRadix2Base(t);return o.createSpectrometer(t,e)}},819:(t,r,e)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createFftRadix4=r.createFftRadix4Base=void 0;const a=e(608),o=e(343),n=t=>{const{input:r,output:e,outOff:a,off:o,step:n}=t,i=r.real[o],s=r.imag[o],l=r.real[o+n],f=r.imag[o+n],c=i+l,u=s+f,h=i-l,d=s-f;e.real[a]=c,e.imag[a]=u,e.real[a+1]=h,e.imag[a+1]=d},i=t=>{const{input:r,output:e,inv:a,outOff:o,off:n,step:i}=t,s=a?-1:1,l=2*i,f=3*i,c=r.real[n],u=r.imag[n],h=r.real[n+i],d=r.imag[n+i],m=r.real[n+l],p=r.imag[n+l],y=r.real[n+f],w=r.imag[n+f],_=c+m,v=u+p,g=c-m,A=u-p,b=h+y,F=d+w,M=s*(h-y),R=s*(d-w),x=_+b,T=v+F,E=g+R,P=A-M,z=_-b,W=v-F,O=g-R,S=A+M;e.real[o]=x,e.imag[o]=T,e.real[o+1]=E,e.imag[o+1]=P,e.real[o+2]=z,e.imag[o+2]=W,e.real[o+3]=O,e.imag[o+3]=S},s=t=>{const{input:r,output:e,inv:a,windowSize:o,width:s,reverseTable:l,table:f}=t;let c,u,h=1<<s,d=o>>>s;if(2===d)for(c=0,u=0;c<o;c+=2,u++){const t=l[u];n({input:r,output:e,outOff:c,off:t,step:h})}else for(c=0,u=0;c<o;c+=4,u++){const t=l[u];i({input:r,output:e,inv:a,outOff:c,off:t,step:h})}const m=a?-1:1;for(h>>=1;h>=2;h>>=2){d=o/h<<1;const t=d>>>2;for(c=0;c<o;c+=d){const r=c+t;for(let a=c,o=0;a<r;a++,o+=h){const r=a,n=r+t,i=n+t,s=i+t,l=e.real[r],c=e.imag[r],u=e.real[n],h=e.imag[n],d=e.real[i],p=e.imag[i],y=e.real[s],w=e.imag[s],_=l,v=c,g=f[o],A=m*f[o+1],b=u*g-h*A,F=u*A+h*g,M=f[2*o],R=m*f[2*o+1],x=d*M-p*R,T=d*R+p*M,E=f[3*o],P=m*f[3*o+1],z=y*E-w*P,W=y*P+w*E,O=_+x,S=v+T,B=_-x,C=v-T,I=b+z,j=F+W,U=m*(b-z),q=m*(F-W),L=O+I,N=S+j,Y=O-I,$=S-j,k=B+q,H=C-U,D=B-q,G=C+U;e.real[r]=L,e.imag[r]=N,e.real[n]=k,e.imag[n]=H,e.real[i]=Y,e.imag[i]=$,e.real[s]=D,e.imag[s]=G}}}};r.createFftRadix4Base=t=>{if(t<=1||0!=(t&t-1))throw new Error("FFT size must be a power of two and bigger than 1");const r=((t,r)=>{const e=a.createRealArray(2*t,"list");for(let r=0;r<e.length;r+=2){const a=Math.PI*r/t;e[r]=Math.cos(a),e[r+1]=-Math.sin(a)}return e})(t),e=(t=>{let r=0;for(let e=1;t>e;e<<=1)r++;return(r%2==0?r-1:r)-1})(t),o=(t=>{const r=new Uint32Array(1<<t);for(let e=0;e<r.length;e++){r[e]=0;for(let a=0;a<t+1;a+=2){const o=t-a-1;r[e]|=(e>>>a&3)<<o}r[e]/=2}return r})(e);return{forward:(a,n)=>{s({input:a,output:n,inv:!1,windowSize:t,width:e,reverseTable:o,table:r})},inverse:(a,n)=>{s({input:a,output:n,inv:!0,windowSize:t,width:e,reverseTable:o,table:r});for(let r=0;r<t;r++)n.real[r]/=t,n.imag[r]/=t}}},r.createFftRadix4=t=>{const e=r.createFftRadix4Base(t);return o.createSpectrometer(t,e)}},343:(t,r,e)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createSpectrometer=void 0;const a=e(175),o=e(608),n=e(119);r.createSpectrometer=(t,r)=>{const{forward:e,inverse:i}=r,s=o.createComplexArray(t,"float64"),l=o.createRealArray(t/2,"float64"),f=o.createComplexArray(t,"list"),c=n.gaussWindowFilter(t,"float64"),u={forward:e,inverse:i,frequency:(r,n,i)=>{const{convert:l=a.convertAmplitudeToBel}=i;for(let e=0;e<t;e++)s.real[e]=r[e]*c[e],s.imag[e]=0;e(s,f),o.normComplexArray(f,n,1/t),l(n)},frequencies:(r,e,a)=>{const{step:n,count:i,convert:s}=a;let{offset:l}=a;for(let a=0;a<i;a++){const i=o.viewRealArray(r,Math.floor(l),t);u.frequency(i,e[a],{convert:s}),l+=n}},byteFrequencies:(r,e,a)=>{const{step:n,count:i,convert:s}=a;let{offset:f}=a;for(let a=0;a<i;a++){const i=o.viewRealArray(r,Math.floor(f),t);u.frequency(i,l,{convert:s});for(let r=0;r<t/2;r++)e[a][r]=Math.round(255*l[r]);f+=n}}};return u}},119:(t,r,e)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.triangularWindowFilter=r.rectangularWindowFilter=r.lanczozWindowFilter=r.hannWindowFilter=r.hammingWindowFilter=r.gaussWindowFilter=r.cosineWindowFilter=r.blackmanWindowFilter=r.bartlettHannWindowFilter=r.bartlettWindowFilter=r.zeroWindowFilter=void 0;const a=e(608);r.zeroWindowFilter=(t,r)=>{const e=a.createRealArray(t,r);for(let r=0;r<t;r++)e[r]=0;return e},r.bartlettWindowFilter=(t,r)=>{const e=a.createRealArray(t,r),o=t-1;for(let r=0;r<t;r++)e[r]=2/o*(o/2-Math.abs(r-o/2));return e},r.bartlettHannWindowFilter=(t,r)=>{const e=a.createRealArray(t,r),o=t-1;for(let r=0;r<t;r++)e[r]=2/o*(o/2-Math.abs(r-o/2));return e},r.blackmanWindowFilter=(t,r)=>{const e=a.createRealArray(t,r),o=t-1;for(let r=0;r<t;r++){const t=2*Math.PI*r/o,a=4*Math.PI*r/o;e[r]=.42-.5*Math.cos(t)+.08*Math.cos(a)}return e},r.cosineWindowFilter=(t,r)=>{const e=a.createRealArray(t,r);for(let r=0;r<t;r++)e[r]=Math.cos(Math.PI*r/(t-1)-Math.PI/2);return e},r.gaussWindowFilter=(t,r)=>{const e=a.createRealArray(t,r);for(let r=0;r<t;r++){const a=(r-(t-1)/2)/(.25*(t-1)/2);e[r]=Math.pow(Math.E,-.5*Math.pow(a,2))}return e},r.hammingWindowFilter=(t,r)=>{const e=a.createRealArray(t,r);for(let r=0;r<t;r++)e[r]=.54-.46*Math.cos(2*Math.PI*r/(t-1));return e},r.hannWindowFilter=(t,r)=>{const e=a.createRealArray(t,r);for(let r=0;r<t;r++)e[r]=.5*(1-Math.cos(2*Math.PI*r/(t-1)));return e},r.lanczozWindowFilter=(t,r)=>{const e=a.createRealArray(t,r),o=t-1;for(let r=0;r<t;r++)e[r]=Math.sin(Math.PI*(2*r/o-1))/(Math.PI*(2*r/o-1));return e},r.rectangularWindowFilter=(t,r)=>{const e=a.createRealArray(t,r);for(let r=0;r<t;r++)e[r]=1;return e},r.triangularWindowFilter=(t,r)=>{const e=a.createRealArray(t,r);for(let r=0;r<t;r++)e[r]=2/t*(t/2-Math.abs(r-(t-1)/2));return e}}},r={};function e(a){var o=r[a];if(void 0!==o)return o.exports;var n=r[a]={exports:{}};return t[a](n,n.exports,e),n.exports}e.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},e.d=(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},e.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};(()=>{e.r(a),e.d(a,{performanceFft:()=>l});var t=e(645),r=e.n(t),o=e(608),n=e(57),i=e(819);const s=(t,r,e)=>.95*t+.05*(e-r),l=()=>{const t=document.getElementById("root");if(!t)throw new Error;let e="";const a=16384,l=(0,o.createComplexArray)(a,"float32"),f=(0,o.createComplexArray)(a,"list"),c=[];for(let t=0;t<a;t++)c[t]=0;for(let t=0;t<a;t++)l.real[t]=c[t],l.imag[t]=c[t];const u=a=>{const o=(0,n.createFftRadix2Base)(a);let c,u;e+=`forward ${a}\n`;let h=0;const d=(t,r)=>{for(let t=0;t<100;t++)c=performance.now(),r(),u=performance.now(),h=0===t?0:s(h,c,u);(t=>{e+=`${t} ${(1e3/h).toFixed(0)}\n`})(t)};d("fft2R",(()=>o.forward(l,f)));const m=(0,i.createFftRadix4Base)(a);d("fft4R",(()=>m.forward(l,f)));const p=new(r())(a),y=p.toComplexArray(l.real,null),w=p.toComplexArray(f.real,null);d("fft4O",(()=>p.transform(w,y))),e+="\n",t.innerText=e};u(1024),u(2048),u(4096),u(8192),u(16384)};l()})(),_=a})();